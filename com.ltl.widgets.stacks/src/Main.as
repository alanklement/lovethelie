package {	import flash.display.Sprite;	public class Main extends Sprite 	{		private var dataModel : DataModel;		private var xmlLoader : XMLLoader;		private var stackImageLoader : StackVOBuilder;		private var stack : Stack;		public function Main()		{			pushFlashVarsIntoModel();		}		private function pushFlashVarsIntoModel() : void 		{			dataModel = new DataModel();						var flashVars : Object = this.stage.loaderInfo.parameters;			dataModel.xmlFile = flashVars["xmlFile"];			dataModel.imgPath = flashVars["imgPath"];						loadXML();			}				private function loadXML() : void		{			xmlLoader = new XMLLoader(dataModel.xmlFile, xmlLoaded);		}				private function xmlLoaded(xml:XML) : void		{			dataModel.stackXML = xml;			xmlLoader.dispose();					 	stackImageLoader = new StackVOBuilder(dataModel.stackXML, dataModel.imgPath, createStack);		}		private function createStack(stackData:StackVO) : void		{			stack = new Stack(stackData);			stackImageLoader.dispose();					addStackToDisplayList();			}				private function addStackToDisplayList() : void		{			addChild(stack);		}	}}